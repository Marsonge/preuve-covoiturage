<app-page-content>
  <div class="loader" *ngIf="!isLoaded">
    <mat-spinner></mat-spinner>
  </div>

  <div *ngIf="isLoaded">
    <div class="header">
      <div class="title">
        <h1>{{ campaignUx.name }}</h1>
        <p>{{ territory.name }}</p>
      </div>
    </div>

    <div class="content">
      <div>
        <app-campaign-main-metrics [campaign]="campaignUx"></app-campaign-main-metrics>

        <div class="contacts" *ngIf="territory.contacts?.technical">
          <h4>Contact technique</h4>
          <p>{{ territory.contacts.technical.firstname }} {{ territory.contacts.technical.lastname }}</p>
          <p>
            <a href="mailto:{{ territory.contacts.technical.email }}">{{ territory.contacts.technical.email }}</a>
          </p>
          <p>
            <a href="tel:{{ territory.contacts.technical.phone }}">{{ territory.contacts.technical.phone }}</a>
          </p>
        </div>
      </div>
        <app-campaign-summary-text [campaign]="campaignUx"></app-campaign-summary-text>
    </div>

     <!-- capital call -->
     <app-campaign-capitalcall [territoryId]="campaignUx.territory_id"></app-campaign-capitalcall>
  </div>
</app-page-content>
